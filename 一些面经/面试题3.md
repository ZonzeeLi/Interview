# 面试题3

## Go

### make 的时候标注容量会提升性能吗？怎么提升的？ 


## Go 编程

### 给定一个一个长度为 n 的 []string，现在需要开启 m 个并发读取 []string 里面的每个 string 的各个字符统计，要求是并发统计

```go
func main() {
	// 假设这是给定的字符串列表
	strings := []string{"apple", "banana", "orange", "pear", "grape"}

	// 设置并发的goroutine数量
	m := 3

	// 创建一个等待组，用于等待所有goroutine完成
	var wg sync.WaitGroup

	// 创建一个channel用于接收每个字符串的字符频率
	results := make(chan map[rune]int, len(strings))

	// 启动m个goroutine进行并发统计
	for i := 0; i < m; i++ {
		wg.Add(1)
		go func(startIndex int) {
			defer wg.Done()
			for j := startIndex; j < len(strings); j += m {
				str := strings[j]
				charFrequency := countCharacterFrequency(str)
				results <- charFrequency
			}
		}(i)
	}

	// 等待所有goroutine完成
	wg.Wait()

	// 关闭结果通道
	close(results)

	// 合并所有结果
	finalResult := make(map[rune]int)
	for charFrequency := range results {
		for char, count := range charFrequency {
			finalResult[char] += count
		}
	}

	// 输出最终结果
	fmt.Println("Character frequency:")
	for char, count := range finalResult {
		fmt.Printf("%c: %d\n", char, count)
	}
}

// 统计字符串中每个字符的频率
func countCharacterFrequency(str string) map[rune]int {
	charFrequency := make(map[rune]int)
	for _, char := range str {
		charFrequency[char]++
	}
	return charFrequency
}
```
